<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ciza Parcel | Livraison Nationale</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:Arial,Helvetica,sans-serif;background:#fff;color:#111;}
.container{width:92%;max-width:1200px;margin:auto;}
html{scroll-behavior:smooth;}

/* HEADER */
.main-header{
position:fixed;width:100%;background:rgba(0,0,0,0.98);
padding:26px 0;z-index:1000;
}
.header-container{
display:flex;justify-content:space-between;align-items:center;
}
.logo img{height:90px;}
.nav-menu{display:flex;gap:22px;align-items:center;}
.nav-menu a{
color:#fff;text-decoration:none;text-transform:uppercase;
font-size:13px;letter-spacing:1px;
}
.nav-menu a:hover{color:#D4AF37;}

.btn-outline{
border:1px solid #D4AF37;
padding:8px 14px;border-radius:12px;
color:#D4AF37;text-decoration:none;font-size:12px;
}

/* MOBILE MENU PREMIUM (index-like) */
.hamburger{
display:none;width:42px;height:42px;border:1px solid rgba(255,255,255,0.2);
background:transparent;border-radius:12px;cursor:pointer;
align-items:center;justify-content:center;
z-index:3000;
}
.hamburger span,
.hamburger span:before,
.hamburger span:after{
width:18px;height:2px;background:#fff;display:block;position:relative;
content:"";
}
.hamburger span:before{position:absolute;top:-6px;}
.hamburger span:after{position:absolute;top:6px;}

.mobile-overlay{
position:fixed;inset:0;background:rgba(0,0,0,0.65);
opacity:0;pointer-events:none;transition:0.3s;z-index:1999;
}

.mobile-menu{
position:fixed;top:0;right:0;height:100%;
width:min(360px,88vw);background:#0b0b0b;
transform:translateX(100%);
transition:0.3s;padding:22px 20px;z-index:2000;
border-left:1px solid rgba(212,175,55,0.25);
}
.mobile-menu a{
display:block;color:#fff;text-decoration:none;
margin:10px 0;text-transform:uppercase;font-size:12px;
padding:12px;border-radius:14px;background:rgba(255,255,255,0.05);
}
.mobile-menu a:hover{background:rgba(212,175,55,0.12);color:#D4AF37;}
.menu-open .mobile-menu{transform:translateX(0);}
.menu-open .mobile-overlay{opacity:1;pointer-events:auto;}

/* HERO */
.hero{
height:100vh;
background:url('https://raw.githubusercontent.com/cizaimmo/ciza-logistics/a9a34fb65e97e401a401f0472ac58dd5ca5acc54/ciza-percel.png') center/cover no-repeat;
display:flex;align-items:center;padding-top:180px;
}
.hero-overlay{
background:linear-gradient(180deg,rgba(0,0,0,0.85),rgba(0,0,0,0.6));
width:100%;padding:80px 0;
}
.hero-content{color:#fff;max-width:780px;}
.hero h1{font-size:48px;margin-bottom:12px;}
.hero p{color:#ddd;margin-bottom:18px;}
.hero-meta{
margin-bottom:18px;font-size:13px;letter-spacing:1px;color:#D4AF37;
}
.btn{
display:inline-block;padding:14px 28px;border-radius:14px;
text-decoration:none;margin-right:10px;
}
.btn-primary{background:#D4AF37;color:#000;font-weight:bold;}
.btn-dark{border:1px solid #fff;color:#fff;}

/* SECTIONS */
.section{padding:90px 0;}
.section-title{
font-size:28px;margin:0 0 10px 0;
}
.section-sub{
color:#555;margin:0 0 28px 0;line-height:1.7;
}

/* PROCESS (DHL-style) */
.process-grid{
display:grid;grid-template-columns:repeat(4,1fr);
gap:18px;
}
.process-card{
background:#fff;border-radius:18px;
border:1px solid rgba(212,175,55,0.22);
box-shadow:0 18px 50px rgba(0,0,0,0.07);
padding:20px;
transition:0.35s;
}
.process-card:hover{
transform:translateY(-6px);
box-shadow:0 28px 70px rgba(212,175,55,0.18);
}
.process-step{
font-size:12px;letter-spacing:1px;text-transform:uppercase;
color:#D4AF37;margin-bottom:10px;
}
.process-card h3{margin:0 0 8px 0;font-size:16px;}
.process-card p{margin:0;color:#5b5b5b;font-size:13px;line-height:1.6;}

/* FORM (FedEx/DHL clean) */
.form-shell{
background:#fff;
border:1px solid rgba(0,0,0,0.08);
border-radius:22px;
box-shadow:0 22px 70px rgba(0,0,0,0.10);
overflow:hidden;
}
.form-topbar{
padding:20px 22px;
background:linear-gradient(90deg,rgba(212,175,55,0.10),rgba(212,175,55,0.02));
border-bottom:1px solid rgba(0,0,0,0.06);
display:flex;align-items:center;justify-content:space-between;gap:12px;
}
.form-badge{
display:inline-flex;align-items:center;gap:10px;
font-size:12px;letter-spacing:1px;text-transform:uppercase;
color:#000;
}
.form-badge span{
display:inline-block;padding:6px 12px;border-radius:999px;
border:1px solid rgba(212,175,55,0.45);
color:#D4AF37;background:#fff;
}
.form-content{padding:22px;}

.error{color:#d93025;margin:0 0 14px 0;font-size:14px;min-height:18px;}

.grid-2{
display:grid;
grid-template-columns:1fr 1fr;
gap:16px;
}

.field{
display:flex;flex-direction:column;
gap:8px;
}
.label{
font-size:12px;letter-spacing:1px;text-transform:uppercase;
color:#333;
}
.input, .select{
width:100%;
padding:14px 14px;
border-radius:14px;
border:1px solid rgba(0,0,0,0.10);
outline:none;
background:#fff;
color:#111;
}
.input:focus, .select:focus{
border-color:rgba(212,175,55,0.65);
box-shadow:0 0 0 4px rgba(212,175,55,0.12);
}

.inline-note{
font-size:12px;color:#666;line-height:1.5;margin-top:2px;
}

.extra-wrap{
margin-top:10px;
padding:14px;
border-radius:16px;
border:1px solid rgba(212,175,55,0.20);
background:rgba(212,175,55,0.06);
display:none;
animation:fadeUp 0.25s ease both;
}
@keyframes fadeUp{
from{opacity:0;transform:translateY(8px);}
to{opacity:1;transform:translateY(0);}
}

.actions{
margin-top:18px;
display:flex;gap:12px;flex-wrap:wrap;
}
.btn-wide{
border:none;
background:#D4AF37;color:#000;font-weight:900;
padding:15px 18px;border-radius:14px;
cursor:pointer;flex:1;min-width:220px;
transition:0.25s;
}
.btn-wide:hover{transform:translateY(-1px);filter:brightness(0.98);}
.btn-soft{
border:1px solid rgba(0,0,0,0.12);
background:#fff;color:#111;font-weight:700;
padding:15px 18px;border-radius:14px;
cursor:pointer;flex:1;min-width:220px;
}

.support-box{
margin-top:18px;
padding:14px;
border-radius:16px;
border:1px solid rgba(212,175,55,0.22);
background:#0b0b0b;color:#D4AF37;
text-align:center;
}
.support-box a{color:#D4AF37;text-decoration:none;}
.support-box a:hover{text-decoration:underline;}

/* NON DANGEROUS MATERIALS */
.safety{
background:#fff;
border-radius:22px;
border:1px solid rgba(0,0,0,0.08);
box-shadow:0 18px 60px rgba(0,0,0,0.07);
padding:22px;
}
.safety h3{margin:0 0 8px 0;font-size:18px;}
.safety p{margin:0;color:#555;line-height:1.7;}
.safety-list{
margin-top:14px;
display:grid;grid-template-columns:1fr 1fr;
gap:10px;
}
.safety-item{
padding:12px 14px;border-radius:16px;
border:1px solid rgba(212,175,55,0.20);
background:rgba(212,175,55,0.06);
color:#333;font-size:13px;line-height:1.6;
}

/* FOOTER */
.footer{
background:#000;color:#fff;padding:50px 0;text-align:center;
margin-top:70px;
}

/* MOBILE */
@media(max-width:1000px){
.process-grid{grid-template-columns:1fr 1fr;}
}
@media(max-width:900px){
.nav-menu{display:none;}
.hamburger{display:flex;}
.hero{height:auto;}
.hero h1{font-size:32px;}
.grid-2{grid-template-columns:1fr;}
.safety-list{grid-template-columns:1fr;}
}
</style>
</head>

<body>

<div class="mobile-overlay" id="mobileOverlay"></div>

<div class="mobile-menu" id="mobileMenu">
<a href="index.html" onclick="closeMenu()">Accueil</a>
<a href="tracking.html" onclick="closeMenu()">Suivi colis</a>
<a href="enterprise.html" onclick="closeMenu()">Entreprise</a>
<a href="login.html" onclick="closeMenu()">Connexion</a>
<a href="signup.html" onclick="closeMenu()">Cr√©er un compte</a>
</div>

<header class="main-header">
<div class="container header-container">
<div class="logo">
<img src="https://raw.githubusercontent.com/cizaimmo/ciza-logistics/4b1ea6a2d3697e3982880984ee31dca42d8c52fc/logo.png">
</div>

<nav class="nav-menu">
<a href="index.html">Accueil</a>
<a href="tracking.html">Suivi colis</a>
<a href="enterprise.html">Entreprise</a>
<a href="login.html">Connexion</a>
<a href="signup.html" class="btn-outline">Cr√©er un compte</a>
</nav>

<button class="hamburger" onclick="toggleMenu()">
<span></span>
</button>
</div>
</header>

<section class="hero">
<div class="hero-overlay">
<div class="container">
<div class="hero-content">
<div class="hero-meta">National Coverage ‚Ä¢ Confirmation Premium ‚Ä¢ Signature √† la r√©ception</div>
<h1>Ciza Parcel</h1>
<p>Livraison nationale s√©curis√©e avec suivi temps r√©el.</p>
<a href="#form" class="btn btn-primary">Cr√©er un envoi</a>
<a href="tracking.html" class="btn btn-dark">Suivre un colis</a>
</div>
</div>
</div>
</section>

<!-- PROCESS DHL/FedEx STYLE -->
<section class="section">
<div class="container">
<h2 class="section-title">Processus Parcel</h2>
<p class="section-sub">Un flux professionnel inspir√© des standards internationaux, adapt√© au Burundi et √† l‚ÄôAfrique de l‚ÄôEst.</p>

<div class="process-grid">
<div class="process-card">
<div class="process-step">√âtape 1</div>
<h3>Cr√©ation d‚Äôenvoi</h3>
<p>Saisie des informations, type de colis, origine, destination et mode de paiement.</p>
</div>
<div class="process-card">
<div class="process-step">√âtape 2</div>
<h3>Confirmation premium</h3>
<p>R√©sum√© complet + g√©n√©ration du num√©ro de tracking (format <b>CL-BI-XXXXXXXX</b>).</p>
</div>
<div class="process-card">
<div class="process-step">√âtape 3</div>
<h3>Paiement s√©curis√©</h3>
<p>Paiement (Lumicash / EcoCash / eNoti) ou paiement √† la livraison selon le choix.</p>
</div>
<div class="process-card">
<div class="process-step">√âtape 4</div>
<h3>Transport & signature</h3>
<p>Prise en charge, suivi et preuve de r√©ception (signature / validation √† la remise).</p>
</div>
</div>

</div>
</section>

<section id="form" class="section">
<div class="container">
<h2 class="section-title">Cr√©er un envoi</h2>
<p class="section-sub">Interface ‚Äúdouble colonne‚Äù (desktop) comme DHL / FedEx, avec champs guid√©s et validation.</p>

<div class="form-shell">
<div class="form-topbar">
<div class="form-badge">Service <span>Parcel</span></div>
<div style="font-size:12px;color:#444;letter-spacing:1px;text-transform:uppercase;">Burundi üáßüáÆ / Rwanda üá∑üáº</div>
</div>

<div class="form-content">

<div id="errorMsg" class="error"></div>

<div class="grid-2">

<div class="field">
<div class="label">Pays</div>
<select id="country" class="select">
<option value="">Choisir le pays</option>
<option value="BI">üáßüáÆ Burundi</option>
<option value="RW">üá∑üáº Rwanda</option>
</select>
<div class="inline-note">Le choix du pays adapte les provinces et le pr√©fixe t√©l√©phone.</div>
</div>

<div class="field">
<div class="label">T√©l√©phone (format num√©rique)</div>
<input type="tel" id="phone" class="input" placeholder="+257XXXXXXXX" inputmode="numeric" autocomplete="tel">
<div class="inline-note">Aucune lettre accept√©e. Le pr√©fixe est d√©fini automatiquement.</div>
</div>

<div class="field">
<div class="label">Province / Ville d√©part</div>
<select id="origin" class="select">
<option value="">Ville d√©part</option>
</select>
</div>

<div class="field">
<div class="label">Province / Ville destination</div>
<select id="destination" class="select">
<option value="">Ville destination</option>
</select>
</div>

<div class="field">
<div class="label">Type d‚Äôenvoi</div>
<select id="packageType" class="select">
<option value="">Type d‚Äôenvoi</option>
<option value="enveloppe">Enveloppe</option>
<option value="boite">Bo√Æte</option>
<option value="bidon">Bidon</option>
</select>
</div>

<div class="field">
<div class="label">Nom exp√©diteur</div>
<input type="text" id="sender" class="input" placeholder="Nom exp√©diteur" autocomplete="name">
</div>

<div class="field">
<div class="label">Mode de paiement</div>
<select id="payment" class="select">
<option value="">Mode de paiement</option>
<option value="Lumicash">Lumicash</option>
<option value="EcoCash">EcoCash</option>
<option value="eNoti">eNoti</option>
<option value="Paiement √† la livraison">Paiement √† la livraison</option>
</select>
<div class="inline-note">Le paiement est ex√©cut√© apr√®s l‚Äô√©cran de confirmation.</div>
</div>

<div class="field">
<div class="label">R√©sum√© (auto)</div>
<input type="text" id="summaryAuto" class="input" placeholder="Choisissez le pays, origine, destination..." readonly>
<div class="inline-note">Un r√©sum√© s‚Äôaffiche pour une confirmation ultra claire.</div>
</div>

</div>

<!-- EXTRA FIELDS (animated) -->
<div class="extra-wrap" id="extraWrap">
<div style="font-size:12px;letter-spacing:1px;text-transform:uppercase;color:#000;margin-bottom:10px;">
D√©tails du colis
</div>
<div class="grid-2" id="extraFields"></div>
</div>

<div class="actions">
<button class="btn-wide" onclick="submitForm()">Continuer vers confirmation</button>
<button class="btn-soft" onclick="window.location.href='tracking.html'">Aller au suivi</button>
</div>

<div class="support-box">
Support :
<a href="tel:+25779945007">+257 79 94 50 07</a> <br>
<a href="mailto:infos@cizalogistics.bi">infos@cizalogistics.bi</a>
</div>

</div>
</div>

</div>
</section>

<!-- NON DANGEROUS MATERIALS -->
<section class="section" style="padding-top:0;">
<div class="container">
<div class="safety">
<h3>Mati√®res non dangereuses</h3>
<p>Pour des raisons de s√©curit√©, Ciza Parcel accepte uniquement des envois non dangereux. Toute exp√©dition suspecte peut √™tre refus√©e lors de la prise en charge.</p>
<div class="safety-list">
<div class="safety-item">‚úÖ Documents, enveloppes, papiers, contrats</div>
<div class="safety-item">‚úÖ Bo√Ætes standards (objets non fragiles / fragiles emball√©s)</div>
<div class="safety-item">‚úÖ Bidons (10L / 20L) uniquement si contenu autoris√© et bien scell√©</div>
<div class="safety-item">‚õî Interdit : explosifs, carburants, produits chimiques, armes</div>
</div>
</div>
</div>
</section>

<footer class="footer">
¬© 2026 Ciza Logistics | Division de Ciza Group ‚Äì Tous droits r√©serv√©s
</footer>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
apiKey: "AIzaSyCIUVom1diEV4ESa3QEcICOZRv0TNSydx8",
authDomain: "ciza-logistics.firebaseapp.com",
projectId: "ciza-logistics",
storageBucket: "ciza-logistics.firebasestorage.app",
messagingSenderId: "751524585771",
appId: "1:751524585771:web:6720db623a0ef70f56e56e"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const provincesBI=["Bujumbura","Gitega","Ngozi","Muyinga","Kayanza","Kirundo","Rutana","Ruyigi","Cankuzo","Makamba","Bururi","Mwaro","Muramvya","Bubanza","Cibitoke","Karusi","Rumonge","Bujumbura Rural"];
const provincesRW=["Kigali","Northern","Southern","Eastern","Western"];

const countryEl = document.getElementById("country");
const originEl = document.getElementById("origin");
const destEl = document.getElementById("destination");
const phoneEl = document.getElementById("phone");
const packageTypeEl = document.getElementById("packageType");
const extraWrap = document.getElementById("extraWrap");
const extraFields = document.getElementById("extraFields");
const summaryAuto = document.getElementById("summaryAuto");

function setSummary(){
const c = countryEl.value;
const o = originEl.value;
const d = destEl.value;
const t = packageTypeEl.value;
let countryName = c==="BI" ? "Burundi" : (c==="RW" ? "Rwanda" : "");
let typeName = t ? t : "";
summaryAuto.value = (countryName && o && d) ? (countryName+" ‚Ä¢ "+o+" ‚Üí "+d+(typeName?(" ‚Ä¢ "+typeName):"")) : "Choisissez le pays, origine, destination...";
}

function fillCities(list){
originEl.innerHTML = '<option value="">Ville d√©part</option>';
destEl.innerHTML = '<option value="">Ville destination</option>';
list.forEach(p=>{
originEl.innerHTML += `<option value="${p}">${p}</option>`;
destEl.innerHTML += `<option value="${p}">${p}</option>`;
});
}

countryEl.addEventListener("change",function(){
let list = this.value==="BI" ? provincesBI : (this.value==="RW" ? provincesRW : []);
fillCities(list);

phoneEl.value = this.value==="BI" ? "+257" : (this.value==="RW" ? "+250" : "");
setSummary();
});

originEl.addEventListener("change", setSummary);
destEl.addEventListener("change", setSummary);
packageTypeEl.addEventListener("change", setSummary);

phoneEl.addEventListener("input", function(){
let prefix = countryEl.value==="RW" ? "+250" : "+257";
if(!countryEl.value){prefix="+";}
let v = this.value || "";
v = v.replace(/[^\d+]/g,""); 
if(prefix!=="+" && !v.startsWith(prefix)){
v = prefix + v.replace(/\D/g,"").replace(/^(\d+)/,""); 
}
if(prefix!=="+" ){
let after = v.slice(prefix.length).replace(/\D/g,"");
v = prefix + after;
}
this.value = v;
});

packageTypeEl.addEventListener("change",function(){
const v = this.value;

if(!v){
extraFields.innerHTML="";
extraWrap.style.display="none";
return;
}

extraWrap.style.display="block";

if(v==="boite"){
extraFields.innerHTML=`
<div class="field"><div class="label">Longueur (cm)</div><input id="boxL" class="input" inputmode="numeric" placeholder="Ex: 30"></div>
<div class="field"><div class="label">Largeur (cm)</div><input id="boxW" class="input" inputmode="numeric" placeholder="Ex: 20"></div>
<div class="field"><div class="label">Hauteur (cm)</div><input id="boxH" class="input" inputmode="numeric" placeholder="Ex: 15"></div>
<div class="field"><div class="label">Poids (kg)</div><input id="boxKg" class="input" inputmode="decimal" placeholder="Ex: 2.5"></div>
`;
}
else if(v==="bidon"){
extraFields.innerHTML=`
<div class="field"><div class="label">Capacit√©</div>
<select id="canLiters" class="select">
<option value="">Choisir</option>
<option value="10L">10L</option>
<option value="20L">20L</option>
</select>
</div>
<div class="field"><div class="label">Quantit√© totale</div><input id="canQty" class="input" inputmode="numeric" placeholder="Ex: 3"></div>
`;
}
else if(v==="enveloppe"){
extraFields.innerHTML=`
<div class="field"><div class="label">Format</div>
<select id="envFormat" class="select">
<option value="">Choisir</option>
<option value="A4">A4</option>
<option value="A3">A3</option>
<option value="Autre">Autre</option>
</select>
</div>
<div class="field"><div class="label">Dimensions approximatives</div><input id="envDim" class="input" placeholder="Ex: 30cm x 21cm"></div>
`;
}
});

function generateTracking(country){
const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
let result="CL-"+country+"-";
for(let i=0;i<8;i++){
result+=chars.charAt(Math.floor(Math.random()*chars.length));
}
return result;
}

function getExtraPayload(type){
let payload = {};
if(type==="boite"){
payload = {
boxL: (document.getElementById("boxL")?.value || "").trim(),
boxW: (document.getElementById("boxW")?.value || "").trim(),
boxH: (document.getElementById("boxH")?.value || "").trim(),
boxKg: (document.getElementById("boxKg")?.value || "").trim()
};
}
else if(type==="bidon"){
payload = {
canLiters: (document.getElementById("canLiters")?.value || "").trim(),
canQty: (document.getElementById("canQty")?.value || "").trim()
};
}
else if(type==="enveloppe"){
payload = {
envFormat: (document.getElementById("envFormat")?.value || "").trim(),
envDim: (document.getElementById("envDim")?.value || "").trim()
};
}
return payload;
}

window.submitForm = async function(){
const err = document.getElementById("errorMsg");
err.innerText = "";

const country = countryEl.value;
const sender = (document.getElementById("sender").value || "").trim();
const phone = (phoneEl.value || "").trim();
const origin = originEl.value;
const destination = destEl.value;
const payment = document.getElementById("payment").value;
const type = packageTypeEl.value;

if(!country || !sender || !phone || !origin || !destination || !payment || !type){
err.innerText="Veuillez remplir tous les champs obligatoires.";
return;
}
if(origin===destination){
err.innerText="La ville de d√©part et la ville de destination ne peuvent pas √™tre identiques.";
return;
}
if(country==="BI" && !phone.startsWith("+257")){
err.innerText="T√©l√©phone invalide pour le Burundi. Pr√©fixe attendu: +257";
return;
}
if(country==="RW" && !phone.startsWith("+250")){
err.innerText="T√©l√©phone invalide pour le Rwanda. Pr√©fixe attendu: +250";
return;
}
if(phone.replace(/\D/g,"").length < (country==="BI" ? 11 : 12)){
err.innerText="Veuillez saisir un num√©ro de t√©l√©phone complet.";
return;
}

const extra = getExtraPayload(type);

if(type==="boite"){
if(!extra.boxL || !extra.boxW || !extra.boxH || !extra.boxKg){
err.innerText="Veuillez renseigner les dimensions et le poids de la bo√Æte.";
return;
}
}
if(type==="bidon"){
if(!extra.canLiters || !extra.canQty){
err.innerText="Veuillez renseigner la capacit√© et la quantit√© du bidon.";
return;
}
}
if(type==="enveloppe"){
if(!extra.envFormat){
err.innerText="Veuillez s√©lectionner le format de l‚Äôenveloppe.";
return;
}
}

const tracking = generateTracking(country);

await addDoc(collection(db,"shipments"),{
trackingCode:tracking,
service:"parcel",
country,
sender,
phone,
origin,
destination,
payment,
packageType:type,
extra,
status:"pending",
createdAt:serverTimestamp()
});

window.location.href="confirmation.html?tracking="+encodeURIComponent(tracking);
};

</script>

<script>
function toggleMenu(){
document.body.classList.toggle("menu-open");
document.body.style.overflow = document.body.classList.contains("menu-open") ? "hidden" : "";
}
function closeMenu(){
document.body.classList.remove("menu-open");
document.body.style.overflow = "";
}
document.getElementById("mobileOverlay").addEventListener("click",closeMenu);
document.addEventListener("keydown",function(e){
if(e.key==="Escape"){closeMenu();}
});
</script>

</body>
</html>
